# <span style="color:blue"> 1 前言 </span>

科学的数据集成是数据应用的活水之源。在当今的大数据时代，数据的资源化需要对各类原始、异构的数据进行集成，只有通过高效的数据集成，才能将分散在各个系统和平台中的数据整合为统一、有价值的信息资源，从而支持企业的决策和创新。

新一代数据集成平台需要具备全新的多源异构数据集成能力，兼容当前的主流技术栈，能够高效处理结构化、半结构化和非结构化数据；需要提供广泛的数据接入能力，支持多种数据源和接口，包括关系型数据库、NoSQL数据库、云存储、文件系统和实时数据流等；需要具备广域的数据交换能力，支持跨组织、跨区域的数据共享和协作。新一代数据集成平台还应具备可组装和低代码的典型技术特性，使数据工程师和业务用户能够通过简单的配置，快速构建和部署数据集成流程，提升数据处理的灵活性和效率。

## 1.1 业务关键挑战
### 1. 大数据发展与数据多样性，提高了数据集成的技术难度。
不同场景生产的数据在结构、时效性、表达语境、更新频度以及传递和承载方式上各不相同。这意味着数据集成不仅需要处理结构化数据、半结构化数据和非结构化数据，还要处理实时数据与批处理数据的不同需求。数据集成平台必须具备强大的数据格式转换能力，支持多种数据协议和接口，能够在复杂多变的场景中灵活应对。
### 2. 数据组织需要向业务对齐，向组织架构和数据需求者对齐。
随着业务环境的快速变化，数据的集成逻辑不能一成不变。为了让上游数据能够敏捷响应下游需求，数据组织需要向业务流程、组织架构和数据需求者对齐。这要求数据架构师和数据工程师在设计数据集成方案时，充分理解业务需求和变化，确保数据集成流程具有灵活性和适应性。数据集成平台应支持动态数据模型和灵活的数据映射规则，以便快速调整数据集成逻辑，满足不断变化的业务需求。通过与业务和组织架构的紧密对齐，数据集成可以更好地支持企业的战略目标和运营效率。
### 3. 数据集成工作不能独立于数据工程实践。
数据集成工作需要与数据工程实践紧密结合。数据需求者不仅需要理解数据集成的技术方法，还需要掌握数据治理和数据管理的最佳实践。数据集成平台应提供全面的数据工程工具，支持数据管道的设计、实施和运维，确保数据从生成到消费的全生命周期管理。数据需求者还应参与数据工程的各个阶段，从需求定义、方案设计到实施和验证，确保数据集成方案能够切实满足业务需求和战略目标。通过加强数据工程实践，企业可以实现数据驱动的决策和创新，提升整体竞争力。
## 1.2 发展趋势
数据集成平台的发展趋势受多种技术进步、商业需求和数据处理要求的驱动。在国内，数据集成平台从最初的满足数据传输交换的基本需求，逐步演变为一个综合性的解决方案，将交换共享、统计分析、监控管理和安全保障等功能有机地结合在一起。

数据集成平台为各业务系统提供了强大的协同支撑能力，确保应用系统与交换平台之间的相互独立性和松耦合。这种松耦合设计提高了平台的可管理性和可扩展性，使企业能够灵活调整和扩展数据集成能力，以适应不断变化的业务需求。未来的数据集成平台将进一步朝着智能化、自动化和高度可定制化的方向发展。通过引入人工智能和机器学习技术，实现自动数据映射、智能数据清洗和异常检测等功能，大大减少人工干预，提高数据处理的效率和准确性。同时，平台的低代码和无代码开发特性将使更多业务用户能够参与数据集成流程的设计和实现，加速企业的数据驱动转型。

# <span style="color:blue"> 2 数据集成平台TongDXP </span>
数据集成平台TongDXP是一款支持多源异构数据汇聚、实时数据同步和高效数据处理的综合性平台，尤其适合我国政府和企业用户数据集成的快速实现，并支撑海量数据的共享交换。
## 2.1 功能定位
东方通数据集成平台TongDXP在现代数据管理中起着关键作用，可以确保不同数据源的数据能够无缝集成、转换和共享，支持企业决策和业务运营，其主要功能定位如下：
### 1）可靠数据迁移
数据迁移是将数据从一个系统转移到另一个系统，通常涉及大量数据，且多为一次性任务。TongDXP可以保证数据迁移的连续性和完整性。在迁移任务意外终止或者停机的情况下，TongDXP可以自动保存数据迁移的最新状态，并在重启后自动重试进行故障恢复，减少人为干预，确保数据安全稳定地从源系统迁移到目标系统。
### 2）高速数据同步
数据同步保持多个系统之间的数据一致性，可以实时同步或者批量同步。TongDXP提供高效的数据捕获和传输机制，支持以下增量数据同步方式：
- **最大值列同步（自增ID、时间戳）**


  通过监控最大值列进行增量同步，自动实现与全量同步的无缝衔接。

- **无最大值列同步**

  - **日志解析**：适用于无侵入的数据同步，读取数据库日志进行数据同步。

  - **标志位同步**：适用于需要主动控制同步数据的场景，通过标志位记录同步状态。

  - **触发器同步**：适用于按顺序同步插入、更新和删除的所有数据，确保数据一致性。
### 3）流批一体的数据处理和分发
TongDXP是一个易于使用、功能强大且可靠的数据处理和分发系统，支持从多种数据源动态拉取数据，包括文件系统、数据库、消息队列和API等。平台支持流式处理和批处理的无缝集成，能够在数据流动过程中进行实时数据清洗、转换和分发，确保数据在不同系统之间的高效流转和一致性。
### 4）数据集成的最佳实践
TongDXP通过数据集成模板快速落地数据集成的最佳实践。常用的数据集成模板包括：最大值列同步模板、标志位同步模板、触发器同步模板、文件同步模板、订阅发布模板等等。
数据集成模板是一种预定义的框架或方案，旨在简化和加速数据集成项目的实施。它通常包含一组标准化的步骤、配置和最佳实践，用于从不同的数据源提取、转换和加载数据，并确保数据的一致性、完整性和质量。

## 2.2 总体架构

![image-20240623161209473](_media\DXP5.0技术白皮书\DXP5.0总体架构.png)
### 1. 集成开发门户
集成开发门户提供了一系列工具和界面，支持数据集成开发的各个环节。主要功能包括数据源管理、模板管理、任务跟踪、配置管理、流程管理、任务统计、监控运维和告警通知。通过这些功能，用户可以高效地配置和管理数据集成任务，实时监控系统状态，确保数据处理过程的顺畅和可靠，并在出现问题时及时接收告警通知，进行快速响应。
### 2. 集成服务层
集成服务层提供了多种数据集成服务，满足不同的数据处理需求。这些服务包括全量数据集成、增量数据集成、批量数据集成、实时数据集成和数据交换级联。此外，还包括数据转换、数据拆分聚合、复杂逻辑处理、数据增强和数据溯源等功能。通过这些服务，用户可以构建复杂的数据处理流程，高效地进行数据搬运和转换，实现跨组织和跨网域的数据集成。
### 3. 集成引擎层
集成引擎层是数据集成平台的核心，负责协调各类处理器和连接器的工作。主要组件包括集成控制引擎、数据处理器（Data Processors）、连接器（Connectors）和扩展程序。此层还包含数据来源存储、集成加工信息存储、集成属性与日志存储和元数据存储。通过统一元数据管理、并行计算、微服务架构和分阶段事件驱动架构（SEDA），集成引擎层确保数据处理的高效性和可扩展性，并支持DataOps的实践。
### 4. 数据接入层
数据接入层负责各种数据源的接入和管理，支持广泛的数据源和接口，包括关系型数据库（RDB）、NoSQL数据库、文件系统、消息队列、数据湖和数据仓库，以及各种接口与协议（如TCP、WS、HTTP、Restful）。这一层通过集中管理各种数据存储和遗留系统的接入，帮助企业盘活所有原始数据资源，实现数据的统一管理和高效利用。
### 5. 原始数据层
原始数据层涵盖了数据集成平台所需处理和管理的各类基础数据，包括来自政府机关、社会事业机构、企业、城市物联网传感器和其他第三方的数据。通过集成这些不同来源的数据，平台能够为上层应用和服务提供丰富的数据支持，满足多样化的数据处理和分析需求，促进数据驱动的业务决策和创新。

## 2.3 功能架构
![image-20240620140621197](_media\DXP5.0技术白皮书\TongDXP功能框架.png)

### TongDXP 功能框架
#### 1）系统层
- 操作系统：TongDXP运行在基于Windows或Linux的操作系统之上。
- Java虚拟机：TongDXP基于Java开发，在JVM内进行。
#### 2）核心层
- Web服务：
  承载TongDXP基于HTTP的命令和控制API，提供数据服务。
- 流程控制器：
  TongDXP执行具体操作的大脑，负责从线程资源池中给组件分配可执行的线程，进行资源管理调度。
- 状态库：
  负责保存数据流的最新活跃状态，通过预写日志的方式存储在磁盘上。
- 内容库：
  负责保存实际数据内容，将内容数据存储在文件系统中，支持多个存储路径以避免达到单个物理分区的存储上限。
- 事件库：
  负责保存所有跟踪事件数据，可以在一个或多个物理分区上进行存储，每个路径下的事件数据都被索引，方便查询和搜索。
#### 3）数据处理层
- 处理器组件：
  用于执行各种数据处理任务，比如：接收、发送、转换、路由、过滤、拆分、合并等。处理器组件可以从源系统读取数据、转换数据格式、应用业务逻辑、将数据写入目标系统。
- 连接器：
  连接处理器的组件，每个连接器充当一个队列，允许不同的处理器以不同的速率交互数据。
  队列可以动态调节优先级，设置负载上限。
- 进程组：
  由一堆处理器及其对应的连接缓冲组成，可以进一步组合成更大的数据流处理网络。
#### 4）扩展与集成层
- TongDXP支持用户自定义处理器，允许通过继承TongDXP定义的类来创建新的数据处理逻辑。
- 支持与其他大数据技术的集成，如Hadoop、Spark、Kafka等，提供丰富的数据处理和分发选项。
#### 5）用户界面层
- 提供直观的图形化用户界面。

## 2.4 主要功能
### 1. 广泛数据接入能力
- 广泛支持各种RDB数据源：Oracle、DB2、SQLServer、Sybase、惠普Vertica、SAP HANA、MySQL、PostgreSQL、GaussDB、OceanBase、PolarDB、Greenplum、达梦DM、人大金仓KingBase、南大通用GBase、瀚高Highgo、神通Oscar等；
- 支持EXCEL、CSV、XML、Json等；
- 支持NoSQL数据库接入：Hbase、Hive、ElasticSearch、Redis、Cassandra、MongoDB、InfluxDB、Doris、TiDB；
- 文件与消息接入：localFILE、HDFS、FTP协议，东方通TLQ系列消息中间件、Kafka、pulsar、JMS等；
- 接口与协议支持：广泛支持TCP、HTTP、WebService协议标准、Restful API接口等；支持Email相关标准接口和协议；
- 通过组件定制和第三方连接器扩展允许接入任何可访问的数据源、协议与系统。
### 2. 先进集成架构
- 多种数据采集方式。针对不同数据类型，支持全量数据采集、增量数据采集、批量数据采集、实时数据采集。
- 解耦数据源与集成处理流程。通过建立统一元数据支撑层，基于元数据构建数据接入、处理和访问逻辑；基于先进的并行计算架构、事件驱动模型，为数据集成任务提供运行引擎，全面兼容微服务/云原生环境；数据生产具备DataOps数据迭代能力。
- 以“处理器/连接器/扩展组件”组装流程和任务，定义敏捷数据集成处理过程，数据处理组件多达300余种，支持3种任务调度策略，支持组装复杂的数据处理逻辑。
### 3. 多集成场景支持
- 支持数据同步、数据备份应用场景，满足复杂的ETL数据集成和数据建仓需求，兼顾数据集成的复杂度与高效率。
- 提供数据增强能力。提供内在和可定制化的数据增强处理逻辑，可以对数据进行必要的补齐和预处理，以帮助数据使用者获取更符合使用要求的数据。
- 提供数据血缘和溯源能力。可以帮助用户追溯每份数据的历史状态，追踪每份数据在特定时间点被执行了什么样的数据转换和处理操作，支持数据管道审计。
- 支持交换级联服务。例如政府机构的“国家--省级--市级”数据交换需要通过级联服务对信息资源进行同步。
- 灵活的可定制能力。根据业务需求自定义处理函数、流程组，允许用户编写自定义脚本进行数据处理。
### 4. 数据集成安全性
- 完整的数据访问和处理安全保障机制。支持系统默认算法的数据加解密，并支持第三方扩展。
- 支持基于用户、角色的统一访问控制和权限管理。
- 支持数据一致性、完整性以及故障恢复机制。
### 5. 低代码数据集成开发与管理
- 数据集成平台面向开发者、管理者等提供WEB工作台。支持元数据采集和数据源的便捷接入，通过拖拽方式一站式开发数据集成流程。
- 提供任务统一调度能力，满足数据开发者、管理者对流程、任务的设计开发和部署的需求，提升不同角色协同水平。
- 提供统一的图形化监控管理，可以监控和调度任务实例的运行状态，提升数据集成的运维管控水平。
### 6. 高质量服务保障
- 采用多服务引擎并行运行的架构，可实现集群扩展，有效突破性能瓶颈，提供高吞吐量的数据处理。
- 可全面兼容传统数据中心、数据湖仓、云计算/云原生环境，帮助用户根据自身需要构建自己的数据架构。

## 2.5 TongDXP 重要特性
### 1、实时数据传输
TongDXP 支持实时数据传输，能够在不同系统之间快速、高效地传输数据，确保数据在第一时间到达目标系统。通过实时数据传输，企业能够即时响应市场变化和业务需求，实现业务流程的自动化和智能化。这对于需要实时分析和决策支持的应用场景，如金融交易监控、实时客户互动和物联网数据处理，尤为重要。TongDXP 的实时数据传输功能帮助企业保持竞争优势，快速适应市场动态。
### 2、高吞吐量
TongDXP 设计为高吞吐量的数据集成平台，能够在分布式环境中高效处理大量的数据传输任务，其并行处理机制和负载均衡技术确保系统在海量数据环境中仍能稳定运行。通过优化的资源管理和任务调度，TongDXP 可以处理大规模数据管理任务，使得企业可以快速处理和分析数据，提升整体业务效率和决策速度。
### 3、低延迟
TongDXP 通过高效的调度机制和内存管理，能够实现数据传输的低延迟，确保数据在最短时间内到达目标系统。低延迟的数据传输对于对实时性要求较高的场景，如金融交易、网络安全监控和实时推荐系统至关重要。TongDXP 的低延迟特性确保企业能够快速响应数据变化，提高业务的敏捷性和实时决策能力，减少因延迟带来的业务风险和损失。
### 4、数据转换和处理
TongDXP 提供了丰富的数据转换和映射处理器，能够将数据从一种格式转换为另一种格式，满足各种复杂的数据转换需求。无论是简单的数据清洗、格式转换，还是复杂的业务逻辑处理，TongDXP 都能轻松应对。
### 5、数据流追踪回溯
TongDXP 具备强大的数据流追踪回溯功能，能够根据源数据和规则对数据进行流向追踪，确保数据能够准确传输到目标系统。通过详细的日志和数据血缘分析，用户可以全面了解数据在系统中的流转过程，快速定位和解决数据传输中的问题。数据流追踪回溯功能为企业提供了强有力的数据审计和合规支持，确保数据处理过程透明、可追溯，提高数据治理能力。
### 6、故障恢复和容错
TongDXP 具备出色的故障恢复和容错能力，支持数据的自动备份、重试机制和检查点功能，减少了数据丢失的风险。在数据传输过程中，系统能够自动检测和处理各种故障，确保数据传输的连续性和可靠性。这种高可靠性的设计减少了系统维护的复杂性，提高了数据集成的稳定性和安全性。
### 7、可扩展性
TongDXP 在设计时充分考虑了可扩展性，通过集群模式和分布式架构，能够满足业务发展和数据量增长的需求。无论是增加处理节点、扩展存储容量，还是提升处理能力，TongDXP 都能灵活适应企业的扩展需求。系统的模块化设计和可配置性使得企业能够根据实际需要调整系统架构，优化资源使用，提高系统的整体性能和可靠性。
### 8、监控和告警
TongDXP 提供了强大的监控和告警功能，可以实时监控数据流的状态。通过可视化的监控界面，全面掌握系统的运行情况，及时了解数据传输的各个环节。告警功能能够在系统出现异常时及时通知相关人员，快速采取措施进行处理，减少因系统故障带来的业务影响，为系统稳定运行提供了有力保障。
### 9、安全性
TongDXP 在数据传输过程中提供了多层次的安全保障，包括数据加密、认证和访问控制，防止数据泄露和篡改。通过严格的安全策略和技术手段，确保数据在传输和存储过程中的机密性、完整性和可用性。系统支持多种身份验证和权限管理机制，确保只有授权用户才能访问和操作数据。
### 10、易操作
TongDXP 提供了直观的图形用户界面，易于操作，并有丰富的文档和教程，帮助用户快速上手，轻松构建和管理数据集成任务。TongDXP 的易操作性设计提高了用户体验，使数据集成工作变得更加高效和便捷。


# <span style="color:blue"> 3 TongDXP优势 </span>
### 1. 一站式数据集成平台
TongDXP提供了统一的用户界面，使团队成员能够轻松共享和管理数据集成任务。通过数据集成模板，大大提高了数据集成的生产效率和业务响应能力，使数据处理变得更加高效和透明，确保项目按时交付并满足业务需求。
### 2. 丰富的数据集成场景
数据开发者可以根据业务需要构建复杂的数据集成流程与处理逻辑，从而实现高效的数据搬运和处理。无论是实时数据流处理、批处理，还是事件驱动的任务，数据集成平台都能胜任。TongDXP支持跨组织、跨网域的数据集成，使数据能够在不同的业务单元和地理位置之间无缝流动。TongDXP能够对接分析型数据仓库、湖仓一体等现代数据存储和分析系统，满足各种复杂的数据分析和处理需求。
### 3. 广泛的数据接入
TongDXP支持多种数据源和接口，包括关系型数据库、NoSQL数据库、云存储、文件系统、API接口等，能够处理各种数据存储和遗留系统的接入，使企业能够集中管理所有的数据资源。通过统一的数据接入管理，企业可以更高效地盘活原始数据资源和遗留IT资产，实现数据的价值最大化。
### 4. 强安全、高可用
TongDXP提供了多层次的安全措施，包括数据加密、访问控制和审计跟踪，确保数据在传输和存储过程中的安全性。同时，平台的高可用性设计，确保了在系统故障或意外情况发生时，能够迅速恢复正常运行，提供连续的数据集成服务。

通过这些特性，TongDXP不仅满足现代企业对高效数据处理和管理的需求，还在安全性和可靠性方面提供了强有力的保障，帮助企业实现数据驱动的业务增长和创新。

# <span style="color:blue"> 4 典型场景 </span>
本方案可支持如下典型场景：
### 1. 多源异构数据的汇集入湖
TongDXP支持将来自不同源的数据，包括结构化、半结构化和非结构化数据，高效地汇集到数据湖。无论是数据库、文件系统还是API接口的数据源，TongDXP都能实现无缝集成。通过数据湖，数据可以进行统一存储和管理，为后续的数据分析和应用提供坚实基础。
### 2. 数据中心及基础库、主题库构建
TongDXP能够帮助构建数据中心及基础数据库和主题数据库。数据中心整合了企业或机构内外部的各种数据源，通过数据清洗、转换和整合，形成统一的数据视图。基础库用于存储核心业务数据，确保数据的一致性和高可用性。主题库则针对特定业务领域或应用场景，进行数据的专题组织和管理，支持业务分析和决策。通过这些数据仓库的构建，企业能够更好地管理和利用数据资源，提升业务洞察力。
### 3. 为广域交换提供采集、接入、交换、集成的全周期服务
TongDXP能够从分散在各地的不同系统中采集数据，通过安全、可靠的传输机制，将数据接入到中心系统或其他目标系统。数据交换过程中，TongDXP支持多种数据格式和协议，确保数据的无缝传输和转换。同时，集成服务使得数据能够在不同系统之间高效流转，满足跨组织、跨区域的数据共享需求，促进业务协同和资源整合。
### 4. 数据迁移及实时数据同步
TongDXP在数据迁移和实时数据同步方面表现出色。数据迁移功能确保将数据从旧系统转移到新系统时，数据的完整性和一致性得以保障，支持大规模数据的一次性转移。实时数据同步功能确保多个系统之间的数据一致性，支持实时、定时和批量的同步模式。TongDXP提供多种增量同步方式，如最大值列同步、日志解析、标志位同步和触发器同步，确保数据在不同系统之间的实时更新和一致性。
### 5. 政府、企业客户的数据资源加工与开发
TongDXP支持数据的清洗、转换、整合和增强，帮助用户将原始数据转化为有价值的信息。政府机构可以利用TongDXP进行数据资源整合，提升公共服务效率和决策能力。企业可以通过数据加工和分析，实现精准营销、客户关系管理和供应链优化。TongDXP的灵活性和强大功能满足了不同领域的数据处理需求，助力用户实现数据驱动的业务转型和发展。

