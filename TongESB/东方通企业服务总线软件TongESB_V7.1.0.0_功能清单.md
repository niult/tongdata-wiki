##                                   东方通企业服务总线软件TongESB V7.1功能清单



| **编写部门** | 数据产品部 | **编制人员** | 杨磊       |
| ------------ | ---------- | ------------ | ---------- |
| **审核人员** |            | **批准人员** |            |
| **发布日期** | 2024．07   | **发布范围** | 东方通科技 |
| **版本**     | V1.0       | **文件密级** | 内部       |

### 功能架构

![image-20240620161304920](_media\东方通企业服务总线软件TongESB_V7.1.0.0_功能清单\image-20240620161304920.png)



### 管理功能清单

<table border="1" cellspacing="10">
<tr>
  <th align="left" width="15%">模块</th>
  <th align="left" width="15%">功能</th>
  <th align="left">描述</th>
</tr>
<tr>
  <td rowspan="2">总概览</td>
  <td>操作指引</td>
  <td>提供简单的操作指引，根据指引进行简单的入门操作</td>
</tr>
<tr>
  <td>总体监控</td>  
  <td>图形化展示集成状态，根据接入类型，集成分类，连接器类型进行统计。提供系统中集成的调用情况，包括调用总数，成功数和失败数趋势。系统告警信息，包括各种级别告警发生的趋势。 </th>
</tr>
<tr>
  <td rowspan="7">集成管理</td>
  <td rowspan="2">图形界面</td>
  <td>基于WEB的可视化开发界面，通过图形化的拖拽方式将触发器，逻辑组件，连接，函数进行编排组合来完成应用集成和服务集成</td>
</tr>
<tr>
  <td>支持在线编辑集成流程，无需安装开发工具</th>
</tr>
<tr>
  <td rowspan="3">集成管理</td>
  <td>集成创建：提供集成创建功能，创建集成包括集成名称，集成分类，集成所属组，业务标识，集成标签等，支持用户自定义属性</td>
</tr>
<tr>
  <td>支持集成的编辑，删除，复制功能，支持集成多版本</th>
</tr>
<tr>
  <td>支持集成的导入和导出操作</th>
</tr>
<tr>
  <td>集成部署</td>
  <td>部署：集成部署到运行时，支持指定集群进行部署；
变更：部署的集成支持变更，集成变更后只有重新部署才能生效；
下线：部署的集成支持下线操作，集成下线后将从运行时集群上解部署，下线的集成将终止服务。</td>
</tr>
<tr>
  <td>集成调试测试</td>
  <td>提供图形化的在线调试和测试集成界面，提供断点设置，单步跟踪，断点跟踪等调试方式。支持通过mock数据模拟连接返回，支持跟踪流程每个步骤的执行情况，包括请求报文，响应报文，出错信息等。</td>
</tr>
<tr>
  <td rowspan="4">连接管理</td>
  <td rowspan="4">连接管理</td>
  <td>支持连接创建，编辑，删除管理</td>
</tr>
<tr>
  <td>连接查看已创建的连接，支持根据连接名称，连接类型，所属组，更新时间和更新人进行检索</th>
</tr>
<tr>
  <td>支持多种连接器类型，包括FTP/SFTP，HTTP/HTTPS，数据库，Kafka，MQTT，SAP，SFTP，JMS1.1，JMS2.0，Socket，Redis，SoapAPI，RestAPI，AS2，HL7连接适配</th>
</tr>
<tr>
  <td>支持连接的连通性测试</th>
</tr>
<tr>
  <td rowspan="7">集成场景</td>
  <td>集成场景管理</td>
  <td>支持集成场景的创建，编辑，删除，复制，部署，下线和版本管理</td>
</tr>
<tr>
  <td>HTTP简易代理</td>
  <td>支持HTTP的简易代理服务</th>
</tr>
<tr>
  <td>SOAP简易代理</td>
  <td>支持SOAP协议的服务穿透代理</th>
</tr>
<tr>
  <td rowspan="3">数据库服务化</td>
  <td>提供生成数据库服务，支持Restful的服务接口</th>
</tr>
<tr>
  <td>提供可视化的图形界面，支持简易模式和专家模式，，简易模式通过图形化配置生成数据库的服务，专家模式支持专业用户编写复杂SQL生成数据库的服务</th>
</tr>
<tr>
  <td>提提供图形化的数据库服务测试功能</th>
</tr>
<tr>
  <td>SAP简易代理</td>
  <td>支持SAP协议的服务穿透代理</th>
</tr>
<tr>
  <td rowspan="4">运维管理</td>
  <td>集成状态</td>
  <td>状态显示：显示已部署集成的运行状态，包括集成名称，版本号，集成状态，部署集群，部署时间，部署人等信息。
集成维护：支持启动，挂起和停止集成，开启和停止集成的日志跟踪。</th>
</tr>
<tr>
  <td>集成维护</td>
  <td>基本信息：图形化展示集成的详细信息，包括流程图，流程步骤的详细配置信息
版本管理：记录所有历史版本，支持查看历史版本的集成详情。支持任意版本的切换。
策略管理：显示集成绑定策略，支持删除和绑定不同的访问策略和流控策略。
告警管理：显示集成的告警详情，包括告警总数，各个级别的告警数，详细告警日志，支持处理标记。
监控管理：显示集成运行情况，记录集成请求总数，成功数，失败数，以及集成中每个连接步骤的详细调用情况，包括请求数，成功数，失败数，平均响应时间，最大最小响应时间，请求量等信息。支持根据时间段查询集成运行详情。
集成日志：记录集成运行的详细日志，包括请求时间，请求路径，客户端IP，状态，请求报文，响应报文，报文大小，响应码，响应时间。跟踪集成运行，记录集成流程中每个步骤的详细信息，包括每个步骤的请求时间，请求响应报文。
审计：记录操作人员针对集成的操作日志，包括创建，变更，切换等操作日志。</th>
</tr>
<tr>
  <td>集成授权</td>
  <td>支持集成服务的授权访问，支持基于Basic认证方式</th>
</tr>
<tr>
  <td>集群管理</td>
  <td>多集群管理：支持创建多个集群，一个集群可以包含多个运行时
部署集成管理：展示集群上部署的集成列表，集成状态管理，启动，停止，挂起，开启停止跟踪等
部署集成监控：集成运行状态统计，成功和失败的集成数；指定时间段，分集成统计请求数，成功数，失败数，平均响应时间，最大，最小响应时间，平均流量，最大，最小流量等。
集群告警：支持告警规则绑定和删除，支持告警监控，统计各级别告警总数，记录告警日志。</th>
</tr>
<tr>
  <td rowspan="4">监控统计</td>
  <td>集成监控</td>
  <td>总体监控：集成总体运行状态监控，正常启动的集成数和启动失败的集成数。集成处理的请求总数，成功数和失败数。
集成监控列表：所有集成的运行信息，包括请求数，成功数，失败数，平均响应时间，最大最小响应时间，平均请求流量，最大最小请求流量，平均响应流量，最大最小响应流量等。
指定时间段监控信息：支持查看今天，24小时，本月，近30天，自定义时间段的集成运行情况。
错误详情：支持查看失败请求的具体出错步骤以及错误的详细信息，方便运维人员定位问题。</th>
</tr>
<tr>
  <td>集群监控</td>
  <td>集群总体：展示集群详情，集群下的运行时总数，以及已启动和未启动数。
运行时监控：展示运行时的详细信息，包括运行时所在地址，状态，更新时间等。运行时所在主机的系统监控，包括CPU，内存，网络等信息。</th>
</tr>
<tr>
  <td>集成统计</td>
  <td>支持集成的多维度统计分析，从集成，分组，分类多维度生成统计报表。支持多时间段的集成统计，包括本月，近三个月，近半年，今年，自定义时间段的统计信息</th>
</tr>
<tr>
  <td>集成日志</td>
  <td>记录集成每次请求的详细日志，包括请求报文和响应报文，集成流程中每一步的详细信息，支持请求报文，响应报文，以及错误信息查看。</th>
</tr>
<tr>
  <td rowspan="2">策略管理</td>
  <td>流控策略</td>
  <td>支持自定义流控策略，提供单位时间的次数控制和流量控制。</th>
</tr>
<tr>
  <td>访问控制策略</td>
  <td>支持自定义访问控制策略，提供黑白名单控制，服务访问时间控制两种类型的访问控制策略。</th>
</tr>
<tr>
  <td rowspan="2">告警管理</td>
  <td>告警规则</td>
  <td>自定义告警规则，支持事件告警和阈值告警，提供集成服务告警和运行时告警两种类型，告警通知可以通过管理中心弹框，邮件，微信，企业微信，钉钉，短信等多种渠道发送。</th>
</tr>
<tr>
  <td>告警日志</td>
  <td>记录每次告警的详细日志，支持消息内容，告警时间等检索条件。</th>
</tr>
<tr>
  <td>审计</td>
  <td>审计日志</td>
  <td>提供系统操作日志记录，记录每次操作详细情况，什么人什么时间做了什么操作，包括操作的具体参数等，方便后续进行审计。</th>
</tr>
<tr>
  <td rowspan="4">用户管理</td>
  <td>三员分立</td>
  <td>系统默认三员分立账户：审计管理员具有审计管理的功能权限，安全保密管理员具有角色管理和角色授权的功能权限，用户管理员具有用户管理和登录管理的功能权限。</th>
</tr>
<tr>
  <td>用户管理</td>
  <td>提供系统的用户管理功能，支持用户的增删改查操作以及用户密码修改等功能</th>
</tr>
<tr>
  <td>角色管理</td>
  <td>提供角色管理，支持角色的增删改查操作。支持角色的功能授权，集成授权和连接授权。</th>
</tr>
<tr>
  <td>角色授权</td>
  <td>通过此功能给不同用户授予不同的角色，用户登录后只能操作授权功能和数据。</th>
</tr>
<tr>
  <td rowspan="3">系统设置</td>
  <td>密码配置</td>
  <td>支持登录密码的长度，密码强度设置</th>
</tr>
<tr>
  <td>分类管理</td>
  <td>提供自定义分类的增删改查，支持多级分类。用户可以根据需求定义不同分类，方便后续统计。</th>
</tr>
<tr>
  <td>消息通道</td>
  <td>提供消息发送通道配置，支持微信公众号，微信小程序，企业微信，邮箱，短信，钉钉机器人的参数配置。</th>
</tr>
<tr>
  <td rowspan="2">环境管理</td>
  <td>环境管理</td>
  <td>系统支持多环境管理，支持环境的增删改查操作。不同环境的数据隔离，用户只能查看器所属环境的数据。</th>
</tr>
<tr>
  <td>备份和恢复</td>
  <td>支持数据的备份和恢复，定期备份数据，当系统遭到破坏时，可以通过备份的数据进行恢复。</th>
</tr>
<tr>
  <td rowspan="1">RestAPI</td>
  <td></td>
  <td>提供丰富的API接口（Restful接口），接口涵盖管理中心的用户管理，系统配置，运维，监控统计，告警管理，策略管理，设置等，支持SSO单点登录，方便用户的个性化定制。</th>
</tr>
</table>



### 运行时功能清单

<table border="1" cellspacing="10">
<tr>
  <th align="left" width="15%">模块</th>
  <th align="left" width="15%">功能</th>
  <th align="left">描述</th>
</tr>
<tr>
  <td rowspan="27">触发器</td>
  <td rowspan="4">Rest API</td>
  <td>支持通过HTTP协议调用触发流程执行，支持GET、POST、PUT，DELETE，HEAD，OPTIONS，TRACE，PATCH调用方法。</td>
</tr>
<tr>
  <td>支持自定义接口和导入swagger文件定义的接口</td>
</tr>
<tr>
  <td>支持流量控制，单位时间的访问次数和流量控制</td>
</tr>
<tr>
  <td>支持IP黑白名单的访问控制以及服务时间的访问控制</td>
</tr>
<tr>
  <td rowspan="3">SOAP API</td>  
  <td>支持基于SOAP协议的webservice服务调用，通过导入wsdl文件定义服务接口参数 </th>
</tr>
<tr>
  <td>支持流量控制，单位时间的访问次数和流量控制</td>
</tr>
<tr>
  <td>支持IP黑白名单的访问控制以及服务时间的访问控</td>
</tr>
<tr>
  <td rowspan="3">定时器</td>  
  <td>支持定时启动集成流程执行，支持两种定时器，简单定时器和cron定时器，简单定时器根据配置周期触发流程；Cron方式，支持linux的Cron表达式，支持自定义时间触发流程。 </th>
</tr>
<tr>
  <td>支持流量控制，控制单位时间的启动次数</td>
</tr>
<tr>
  <td>支持服务时间的访问控制</td>
</tr>
<tr>
  <td rowspan="3">MQTT</td>  
  <td>支持通过MQTT协议接收消息触发流程，指定Toic接收消息，当消息到达时触发流程执行</th>
</tr>
<tr>
  <td>支持流量控制，单位时间的访问次数和流量控制</td>
</tr>
<tr>
  <td>支持IP黑白名单的访问控制以及服务时间的访问控制</td>
</tr>
<tr>
  <td rowspan="3">Kafka</td>  
  <td>支持通过Kafak客户端接收消息触发流程，支持指定主题以及消费组。</th>
</tr>
<tr>
  <td>支持流量控制，单位时间的访问次数和流量控制</td>
</tr>
<tr>
  <td>支持IP黑白名单的访问控制以及服务时间的访问控制</td>
</tr>
<tr>
  <td rowspan="4">JMS</td>  
  <td>支持JMS1.1和JMS2.0</th>
</tr>
<tr>
  <td>支持通过JMS客户端接收消息来触发流程执行，支持队列和主题两类消息。</td>
</tr>
<tr>
  <td>支持流量控制，单位时间的访问次数和流量控制</td>
</tr>
<tr>
  <td>支持IP黑白名单的访问控制以及服务时间的访问控制</td>
</tr>
<tr>
  <td rowspan="5">Socket</td>  
  <td>支持监听socket的指定端口，接收消息触发流程</th>
</tr>
<tr>
  <td>支持TCP和UDP两种协议</td>
</tr>
<tr>
  <td>支持消息解码和编码配置，解码器支持行分隔符，定长，变长，自定义分隔符等解码方式；编码器支持字符串编码和字节数组编码方式</td>
</tr>
<tr>
  <td>支持流量控制，单位时间的访问次数和流量控制</td>
</tr>
<tr>
  <td>支持IP黑白名单的访问控制以及服务时间的访问控制</td>
</tr>
<tr>
  <td>AS2</td>  
  <td>新增AS2（Applicability Statement 2）触发器，用于传输电子数据交换（EDI）文档和其它类型的结构化数据</th>
</tr>
<tr>
  <td>HL7</td>  
  <td>新增HL7触发器，用于对接医疗领域中满足HL7卫生信息交换标准的应用系统（如HIS、RIS）</th>
</tr>
<tr>
  <td rowspan="14">流程引擎</td>  
  <td>EIP模型</td>  
  <td>可以高效地解析、运行基于EIP模式的集成流程</th>
</tr>
<tr>
  <td rowspan="7">流程逻辑</td>   
  <td>串行</th>
</tr>
<tr>
  <td>条件分支，基于内容的条件判断</td>
</tr>
<tr>
  <td>过滤，根据条件过滤消息</td>
</tr>
<tr>
  <td>For Each循环，支持并行和串行两种执行方式，执行结果支持三种策略，第一个，最后一个，结果数组。当发生错误时，可以配置继续执行或中止执行。</td>
</tr>
<tr>
  <td>While循环，在条件满足时终止循环执行</td>
</tr>
<tr>
  <td>自定义脚本组件</th>
</tr>
<tr>
  <td>支持自定义变量并支持变量赋值</th>
</tr>
<tr>
  <td rowspan="5">数据处理</td>   
  <td>数据映射，支持图形化的数据映射界面，支持数据一对一，多对一，一对多映射，支持JSON到XML，XML到JSON数据格式转换，支持多种字符串和数字的转换处理，包括丰富，截取，替换等</th>
</tr>
<tr>
  <td>日志组件，记录详细日志</td>
</tr>
<tr>
  <td>数据加解密，支持算法3DES、SM2、SM4、DES、AES、RSA</td>
</tr>
<tr>
  <td>数据脱敏，支持哈希，变换，遮盖，替换和自定义脱敏算法</td>
</tr>
<tr>
  <td>函数，使用内置函数进行数据处理，支持字符串处理函数，数据处理函数和数据转换函数</td>
</tr>
<tr>
  <td>错误处理</td>   
  <td>支持自定义错误处理流程，内置多种错误类型，根据错误类型定义处理流程。</th>
</tr>
<tr>
  <td rowspan="21">连接器</td> 
  <td>FTP/SFTP</td>  
  <td>基于FTP服务器和SFTP服务器的文件上传和下载</th>
</tr>
<tr>
  <td>Kafka</td>  
  <td>支持Kafka流式数据服务，提供流式数据的发布和订阅功能，轻松构建基于流式数据的分析服务。</th>
</tr>
<tr>
  <td>Redis</td>  
  <td>支持Redis的读写操作，包括SET，Hash，List，Ordered等</th>
</tr>
<tr>
  <td rowspan="2">JMS</td>  
  <td>支持JMS1.1和JMS2.0</th>
</tr>
<tr>
  <td>基于队列和主题两种方式，支持接收和发送消息</th>
</tr>
<tr>
  <td>MQTT</td>  
  <td>支持物联网传输协议MQTT，用于轻量级的发布/订阅消息传输，为低带宽和不稳定网络环境中的物联网设备提供可靠的网络服务。</th>
</tr>
<tr>
  <td rowspan="3">Socket</td>  
  <td>支持基于传输层的TCP和UDP协议</th>
</tr>
<tr>
  <td>支持Socket套接字编程接口，通过Socket通信来发送和接收数据。</th>
</tr>
<tr>
  <td>支持多种编解码方式，提供字节数组和字符串编码方式，支持行分隔符，自定义分隔符，定长，变长编码和解码</th>
</tr>
<tr>
  <td rowspan="2">SAP</td>  
  <td>支持基于RFC和IDOC与SAP ERP中央组件（ECC）或SAP S/4HANA内部集成</th>
</tr>
<tr>
  <td>支持同步、事务和队列的RFC（sRFC、tRFC、qRFC）协议）支持基于tRFC和qRFC发送和接收IDoc文件</th>
</tr>
<tr>
  <td rowspan="2">HTTP/HTTPS</td>  
  <td>支持HTTP和HTTPS协议</th>
</tr>
<tr>
  <td>支持GET、POST、PUT，DELETE，HEAD，OPTIONS，TRACE，PATCH调用方式</th>
</tr>
<tr>
  <td>RestAPI</td>  
  <td>提供Restful接口调用方式，支持导入Swagger文件定义Restful接口</th>
</tr>
<tr>
  <td rowspan="2">SoapAPI</td>  
  <td>提供基于Soap的webservice服务调用，支持wsdl文件导入接口定义</th>
</tr>
<tr>
  <td>支持多种认证方式，包括Basic基础认证和基于WS-Security的认证方式</th>
</tr>
<tr>
  <td rowspan="3">数据库连接</td>  
  <td>提供基于JDBC方式连接数据库，进行数据增删改查操作</th>
</tr>
<tr>
  <td>支持各种主流的关系型数据库</th>
</tr>
<tr>
  <td>提供数据库操作的调试和测试功能，返回执行结果</th>
</tr>
<tr>
  <td>AS2</td>  
  <td>支持AS2（Applicability Statement 2）连接器，用于传输电子数据交换（EDI）文档和其它类型的结构化数据</th>
</tr>
<tr>
  <td>HL7</td>  
  <td>支持HL7连接器，用于对接医疗领域中满足HL7卫生信息交换标准的应用系统（如HIS、RIS）</th>
</tr>
<tr>
  <td rowspan="2">访问控制</td> 
  <td></td>  
  <td>提供Basic基础认证的访问授权，只有授权用户才能访问服务</th>
</tr>
<tr>
  <td></td>  
  <td>提供基于流量和访问次数的控制以及基于IP黑白名单和服务时间的访问控制</th>
</tr>
<tr>
  <td rowspan="2">监控度量</td> 
  <td>服务监控</td>  
  <td>提供流程服务的监控度量数据，全方位监控各个流程服务的运行情况，包括服务请求信息（路径，队列名等），服务执行成功和失败信息，服务响应时间，服务授权信息，服务访问限制信息等</th>
</tr>
<tr>
  <td>运行时监控</td>  
  <td>提供运行时执行状态，部署集群信息，主机运行情况，包括CPU，内存，网络使用情况</th>
</tr>
<tr>
  <td rowspan="2">日志</td> 
  <td></td>  
  <td>记录运行日志，提供整体运行日志，流程日志，组件调试日志。</th>
</tr>
<tr>
  <td></td>  
  <td>记录流程服务执行的详细日志信息，包括流程的分步执行日志，并上报管理中心进行展示和分析。</th>
</tr>
<tr>
  <td rowspan="2">告警</td> 
  <td></td>  
  <td>支持流程服务和运行时两种类型的告警指标</th>
</tr>
<tr>
  <td></td>  
  <td>根据告警规则进行告警通知，支持基于事件和阈值的告警规则。</th>
</tr>
</table>



### 其他功能

<table border="1" cellspacing="10">
<tr>
  <th align="left" width="15%">模块</th>
  <th align="left" width="15%">功能</th>
  <th align="left">描述</th>
</tr>
<tr>
  <td rowspan="3">跨平台</td>
  <td>CPU</td>
  <td>支持x86，arm的CPU，以及兆芯，海光，鲲鹏国产CPU</td>
</tr>
<tr>
  <td>操作系统</td>
  <td>支持Redhat Linux、CentOS Linux，以及中标麒麟，银河麒麟国产操作系统</td>
</tr>
<tr>
  <td>数据库</td>
  <td>支持mysql，oracle，达梦，人大金仓数据库，南大通用</td>
</tr>
<tr>
  <td rowspan="2">云化</td>
  <td>Docker</td>
  <td>支持Docker容器部署</td>
</tr>
<tr>
  <td>PaaS平台</td>
  <td>支持K8S类的PaaS平台部署，支持基于K8S的弹性伸缩</td>
</tr>
</table>